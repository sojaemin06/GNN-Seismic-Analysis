# 시스템 개요 (System Overview)

## 1. 프로젝트 목표
- **Graph Neural Network (GNN)**를 활용하여 저층 RC **모멘트 골조** 구조물의 비선형 정적해석(푸쉬오버 해석) 결과인 **푸쉬오버 곡선(Pushover Curve)을 신속하게 예측**하는 모델 개발.
- **SCI급 해외 학술지 게재**를 최종 목표로 함.

## 2. 연구 범위
- **대상 구조물:** **기존(Existing) 저층형 RC 모멘트 골조** (비내진 또는 초기 내진 설계 적용 모델).
    - 재료 강도($f_c$ 18~24MPa, $F_y$ 300~400MPa) 및 부재 상세를 현실화하여 반영.
- **해석 종류:** 비선형 정적 해석 (Pushover Analysis).
- **평가 프로세스:**
    - 단일 구조물에 대해 **4방향(X+, X-, Z+, Z-)** 푸쉬오버 해석 수행.
    - 각 방향별 성능점(Performance Point) 도출 후, **가장 불리한 결과(Worst Case)**를 기준으로 최종 내진성능 등급 판정.
- **데이터 일관성:** GNN 평가의 명확성을 위해 1차 모드 거동이 지배적인 데이터만 엄선하여 사용.

## 3. 기술 스택
- **언어:** Python 3.10+
- **구조 해석:** OpenSeesPy
- **딥러닝:** PyTorch, PyTorch Geometric
- **데이터 처리:** NumPy, Pandas

## 4. 데이터 파이프라인
### 4.1. 데이터 생성 (`src/core/`, `scripts/generate_dataset.py`)
- **모델링:** 비선형 거동 정밀 모사를 위한 섬유요소모델(Fiber Element Model) 사용.
- **재료:** 공칭강도가 아닌 **기대강도(`fc`, `Fy`)** 적용.
- **유효성 검증:**
    - 1차 모드 지배 여부 확인.
    - 질량 참여율 90% 이상.
    - 조기 재료 파괴(콘크리트 변형률 0.003, 철근 0.05 초과)가 없는 모델만 사용.

### 4.2. 데이터 표현 (`src/data/`)
- **그래프 구조:**
    - 노드(Node): 절점 (Joint)
    - 엣지(Edge): 구조 부재 (기둥, 보)
- **전역 특성 (Global Feature):** 8차원 벡터 (방향 + 모드 특성)
    - **Direction (4):** One-hot Vector (`X+`, `X-`, `Z+`, `Z-`)
    - **Modal Props (4):** 1차 모드 주기($T_1$), 참여계수($PF_1$), 질량참여율($\alpha_1$), 지붕층 모드값($\phi_{roof}$)
    - *목적:* 단순 푸쉬오버 곡선 예측을 넘어, **CSM(역량 스펙트럼법)**을 통한 성능점 산정이 가능하도록 동적 특성을 모델에 주입.

## 5. 디렉토리 구조
```
GNN_Project/
├── data/                # 데이터셋 저장소
├── results/             # 해석 및 예측 결과
├── scripts/             # 실행 스크립트
├── src/                 # 소스 코드
│   ├── core/            # OpenSees 해석 로직
│   ├── data/            # 그래프 변환 로직
│   ├── gnn/             # GNN 모델 및 학습 (구현 예정)
│   └── visualization/   # 시각화
└── specs/               # 프로젝트 명세서 (Spec Kit)
```

## 6. 개발 및 실험 환경 (Environment)

### 6.1. 하드웨어 (권장 사양)
- **CPU:** **Intel Core i7 / AMD Ryzen 7 이상** (다중 코어 필수)
    - *이유:* OpenSees 데이터 생성은 CPU 연산 집약적입니다. 코어 수가 많을수록 병렬 처리(추후 도입 시) 효율이 비례하여 증가합니다.
- **RAM:** **32GB 이상**
    - *이유:* 대량의 구조 해석 결과(텍스트/바이너리)를 메모리에 로드하고 GNN 데이터셋을 구축하기 위해 넉넉한 메모리가 필요합니다.
- **GPU:** **NVIDIA RTX 3060 (VRAM 12GB) 이상**
    - *이유:* GNN 학습 속도 가속화를 위해 CUDA 지원 GPU가 필요합니다. (CPU 학습 시 속도 저하 발생)
- **Storage:** **SSD 500GB 이상**
    - *이유:* 수천 개의 작은 데이터 파일(.pt, .out)을 빠르게 읽고 쓰기 위해 고속 I/O가 필수적입니다.

### 6.2. 소프트웨어
- **OS:** Windows 10/11 (64bit) 또는 Linux (Ubuntu 20.04+)
- **Python:** 3.10 이상
- **Core Libs:** `openseespy` (3.5+), `torch` (2.0+), `torch_geometric`

